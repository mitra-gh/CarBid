# Bind Redis to all network interfaces (required for Docker)
bind 0.0.0.0

# Run in protected mode (set to 'no' only if using a firewall)
protected-mode no

# Port to listen on (default: 6379)
port 6379

# Persist data to disk (avoid data loss on container restart)
save 900 1      # Save if 1+ key changes in 900 sec (15 min)
save 300 10     # Save if 10+ keys change in 300 sec (5 min)
save 60 10000   # Save if 10000+ keys change in 60 sec

# Persistent storage (RDB snapshotting)
dir /data       # Matches your volume mount in Docker
dbfilename dump.rdb

# Require a password (recommended for production)
requirepass 123456

# Limit memory usage (adjust based on your needs)
maxmemory 256mb
maxmemory-policy allkeys-lru

# Enable AOF (append-only file for better durability)
appendonly yes
appendfilename "appendonly.aof"